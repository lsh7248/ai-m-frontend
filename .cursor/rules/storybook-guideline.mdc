---
description: Storybook í™œìš© Figma ì—°ë™ ë“± ê°œë°œ ì‚¬ìš© ê°€ì´ë“œ 
globs: 
alwaysApply: false
---
# Storybook í™œìš© ê°€ì´ë“œ

## ëª©ì°¨
1. Storybook ê¸°ë³¸ í™œìš©ë²•
2. ì»´í¬ë„ŒíŠ¸ ìŠ¤í† ë¦¬ ì‘ì„± ì˜ˆì‹œ (ìµœì‹  8.6 ë²„ì „)
3. Figma ë””ìì¸ê³¼ ìŠ¤í† ë¦¬ë¶ ì—°ë™
4. Storybook 8.6 ì„¤ì • ë° ì‚¬ìš©ë²•
5. ë³µì¡í•œ ì»´í¬ë„ŒíŠ¸ ìŠ¤í† ë¦¬ ì‘ì„±
6. ë‹¤í¬ ëª¨ë“œ ì§€ì›
7. ì•¡ì…˜ ë° ì´ë²¤íŠ¸ í…ŒìŠ¤íŠ¸ (fn í•¨ìˆ˜ í™œìš©)
8. Storybook ì‚¬ìš© íŒ

## Storybook ê¸°ë³¸ í™œìš©ë²•

Storybookì€ ì»´í¬ë„ŒíŠ¸ ê°œë°œ ë° ë¬¸ì„œí™”ë¥¼ ìœ„í•œ ë„êµ¬ë¡œ, UI ì»´í¬ë„ŒíŠ¸ë¥¼ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œí•˜ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ ì œê³µí•©ë‹ˆë‹¤. Figma ë””ìì¸ì„ ì½”ë“œë¡œ êµ¬í˜„í•œ í›„ Storybookì„ í†µí•´ ë¬¸ì„œí™”í•˜ë©´ ë””ìì´ë„ˆì™€ ê°œë°œì ê°„ì˜ í˜‘ì—…ì´ ì›í™œí•´ì§‘ë‹ˆë‹¤.

### Storybook ì„¤ì¹˜

```bash
# í”„ë¡œì íŠ¸ì— Storybook ì¶”ê°€
npx storybook@latest init
```

## ì»´í¬ë„ŒíŠ¸ ìŠ¤í† ë¦¬ ì‘ì„± ì˜ˆì‹œ (ìµœì‹  8.6 ë²„ì „)

Storybook 8.6ì—ì„œëŠ” `fn` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë²¤íŠ¸ì™€ ì•¡ì…˜ì„ í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” ìµœì‹  ë²„ì „ì˜ Button ì»´í¬ë„ŒíŠ¸ ìŠ¤í† ë¦¬ ì‘ì„± ì˜ˆì‹œì…ë‹ˆë‹¤:

```typescript
// src/stories/Button.stories.ts
import { fn } from '@storybook/test';
import type { Meta, StoryObj } from '@storybook/vue3';

import Button from './Button.vue';

// More on how to set up stories at: https://storybook.js.org/docs/writing-stories
const meta = {
  title: 'Example/Button',
  component: Button,
  // This component will have an automatically generated docsPage entry
  tags: ['autodocs'],
  argTypes: {
    size: { control: 'select', options: ['small', 'medium', 'large'] },
    backgroundColor: { control: 'color' },
  },
  args: {
    primary: false,
    // Use `fn` to spy on the onClick arg, which will appear in the actions panel once invoked
    onClick: fn(),
  },
} satisfies Meta<typeof Button>;

export default meta;
type Story = StoryObj<typeof meta>;

export const Primary: Story = {
  args: {
    primary: true,
    label: 'Button',
  },
};

export const Secondary: Story = {
  args: {
    label: 'Button',
  },
};

export const Large: Story = {
  args: {
    size: 'large',
    label: 'Button',
  },
};

export const Small: Story = {
  args: {
    size: 'small',
    label: 'Button',
  },
};
```

### fn í•¨ìˆ˜ë¥¼ í™œìš©í•œ ì´ë²¤íŠ¸ í…ŒìŠ¤íŠ¸

Storybook 8.6ì—ì„œëŠ” `@storybook/test` íŒ¨í‚¤ì§€ì˜ `fn` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ì˜ ì´ë²¤íŠ¸ì™€ ì•¡ì…˜ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” ëª¨ì˜ í•¨ìˆ˜(mock function)ë¥¼ ìƒì„±í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ì˜ ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¡œ ì „ë‹¬ë©ë‹ˆë‹¤.

```typescript
import { fn } from '@storybook/test';

// meta ê°ì²´ ë‚´ì—ì„œ ì‚¬ìš©
args: {
  // fn()ì€ ì´ë²¤íŠ¸ê°€ ë°œìƒí•  ë•Œ Actions íŒ¨ë„ì— í‘œì‹œë©ë‹ˆë‹¤
  onClick: fn(),
}
```

ì´ë ‡ê²Œ ì„¤ì •í•˜ë©´ Storybook UIì˜ Actions íŒ¨ë„ì—ì„œ ì´ë²¤íŠ¸ ë°œìƒ ì—¬ë¶€ì™€ ì „ë‹¬ëœ ì¸ìë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## Figma ë””ìì¸ê³¼ ìŠ¤í† ë¦¬ë¶ ì—°ë™

Storybookì˜ addon-designsë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ì™€ Figma ë””ìì¸ì„ ì—°ë™í•˜ëŠ” ë°©ë²•:

```typescript
// Button.stories.tsì— Figma ë””ìì¸ ì—°ë™
import type { Meta, StoryObj } from '@storybook/vue3';
import Button from './Button.vue';

const meta = {
  title: 'Components/Button',
  component: Button,
  parameters: {
    // Figma ë””ìì¸ ì—°ë™
    design: {
      type: 'figma',
      url: 'https://www.figma.com/file/...', // Figma íŒŒì¼ URL
    },
  },
  // ë‚˜ë¨¸ì§€ ì„¤ì •...
} satisfies Meta<typeof Button>;

// ê°œë³„ ìŠ¤í† ë¦¬ì— ë‹¤ë¥¸ Figma ë””ìì¸ ì—°ê²°
export const Primary: Story = {
  args: {
    variant: 'primary',
    label: 'ê¸°ë³¸ ë²„íŠ¼',
  },
  parameters: {
    design: {
      type: 'figma',
      url: 'https://www.figma.com/file/.../node-id?node-id=123', // íŠ¹ì • ë…¸ë“œ ID
    },
  },
};
```

## Storybook 8.6 ì„¤ì • ë° ì‚¬ìš©ë²•

Storybook 8.6ì€ ì´ì „ ë²„ì „ê³¼ ë¬¸ë²•ì´ ë‹¤ì†Œ ë‹¤ë¥´ë¯€ë¡œ ì•„ë˜ ê°€ì´ë“œë¥¼ ì°¸ê³ í•˜ì„¸ìš”.

### Figma ë””ìì¸ ì—°ë™ì„ ìœ„í•œ ì• ë“œì˜¨ ì„¤ì¹˜

```bash
# Storybook ì• ë“œì˜¨ ì„¤ì¹˜ ì‹œ legacy-peer-deps ì˜µì…˜ ì‚¬ìš©
npm install -D @storybook/addon-designs --legacy-peer-deps
```

### ì„¤ì • íŒŒì¼ êµ¬ì„±

`.storybook/main.ts` íŒŒì¼ì— ë‹¤ìŒê³¼ ê°™ì´ ì„¤ì •:

```typescript
import type { StorybookConfig } from "@storybook/vue3-vite";

const config: StorybookConfig = {
  stories: ["../src/**/*.mdx", "../src/**/*.stories.@(js|jsx|mjs|ts|tsx)"],
  addons: [
    "@storybook/addon-essentials",
    "@storybook/addon-onboarding",
    "@storybook/addon-designs", // Figma ë””ìì¸ ì—°ë™ ì• ë“œì˜¨
  ],
  framework: {
    name: "@storybook/vue3-vite",
    options: {},
  },
  docs: {
    autodocs: "tag",
  },
};

export default config;
```

## ë³µì¡í•œ ì»´í¬ë„ŒíŠ¸ ìŠ¤í† ë¦¬ ì‘ì„±

í—¤ë” ì»´í¬ë„ŒíŠ¸ì²˜ëŸ¼ ì—¬ëŸ¬ ìƒíƒœë¥¼ ê°€ì§„ ë³µì¡í•œ ì»´í¬ë„ŒíŠ¸ì˜ ìŠ¤í† ë¦¬ ì‘ì„±:

```typescript
// src/stories/Header.stories.ts
import { fn } from '@storybook/test';
import type { Meta, StoryObj } from '@storybook/vue3';

import MyHeader from './Header.vue';

const meta = {
  /* ğŸ‘‡ The title prop is optional.
   * See https://storybook.js.org/docs/configure/#configure-story-loading
   * to learn how to generate automatic titles
   */
  title: 'Example/Header',
  component: MyHeader,
  render: (args: any) => ({
    components: { MyHeader },
    setup() {
      return { args };
    },
    template: '<my-header :user="args.user" />',
  }),
  parameters: {
    // More on how to position stories at: https://storybook.js.org/docs/configure/story-layout
    layout: 'fullscreen',
  },
  // ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì— fn() í•¨ìˆ˜ ì‚¬ìš©
  args: {
    onLogin: fn(),
    onLogout: fn(),
    onCreateAccount: fn(),
  },
} satisfies Meta<typeof MyHeader>;

export default meta;
type Story = StoryObj<typeof meta>;

export const LoggedIn: Story = {
  args: {
    user: {
      name: 'Jane Doe',
    },
  },
};

export const LoggedOut: Story = {
  args: {
    user: null,
  },
};
```

### ì»¤ìŠ¤í…€ ë Œë”ë§ í•¨ìˆ˜ í™œìš©

Storybook 8.6ì—ì„œëŠ” `render` ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ ë°©ì‹ì„ ì»¤ìŠ¤í„°ë§ˆì´ì§•í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ë³µì¡í•œ ì»´í¬ë„ŒíŠ¸ë‚˜ íŠ¹ë³„í•œ ë Œë”ë§ ë¡œì§ì´ í•„ìš”í•œ ê²½ìš°ì— ìœ ìš©í•©ë‹ˆë‹¤.

```typescript
render: (args: any) => ({
  components: { MyComponent },
  setup() {
    return { args };
  },
  template: '<my-component :prop1="args.prop1" :prop2="args.prop2" />',
})
```

## í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ ìŠ¤í† ë¦¬ ì‘ì„± ë° í…ŒìŠ¤íŠ¸

í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ì™€ ê°™ì€ ë³µì¡í•œ ì»´í¬ë„ŒíŠ¸ì˜ ìŠ¤í† ë¦¬ ì‘ì„± ë° í…ŒìŠ¤íŠ¸ ë°©ë²•:

```typescript
// src/stories/Page.stories.ts
import { fn } from '@storybook/test';
import { within, userEvent, expect } from '@storybook/test';
import type { Meta, StoryObj } from '@storybook/vue3';
import MyPage from './Page.vue';

const meta = {
  title: 'Example/Page',
  component: MyPage,
  parameters: {
    // More on how to position stories at: https://storybook.js.org/docs/configure/story-layout
    layout: 'fullscreen',
  },
  render: (args: any) => ({
    components: { MyPage },
    setup() {
      return { args };
    },
    template: '<my-page />',
  }),
} satisfies Meta<typeof MyPage>;

export default meta;
type Story = StoryObj<typeof meta>;

// ê¸°ë³¸ í˜ì´ì§€ ìŠ¤í† ë¦¬
export const LoggedOut: Story = {};

// ë¡œê·¸ì¸ ìƒíƒœ ìŠ¤í† ë¦¬ (í…ŒìŠ¤íŠ¸ í¬í•¨)
export const LoggedIn: Story = {
  play: async ({ canvasElement }) => {
    const canvas = within(canvasElement);
    const loginButton = canvas.getByRole('button', { name: /Log in/i });
    await userEvent.click(loginButton);
  },
};

// ìë™í™”ëœ ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸
export const LoggedInWithTest: Story = {
  play: async ({ canvasElement, step }) => {
    const canvas = within(canvasElement);
    
    // ë‹¨ê³„ë³„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
    await step('ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­', async () => {
      const loginButton = canvas.getByRole('button', { name: /Log in/i });
      await userEvent.click(loginButton);
    });
    
    await step('ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸', async () => {
      const logoutButton = canvas.getByRole('button', { name: /Log out/i });
      await expect(logoutButton).toBeInTheDocument();
    });
  },
};
```

### ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸ (play í•¨ìˆ˜)

Storybook 8.6ì—ì„œëŠ” `play` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì‚¬ìš©ì ì¸í„°ë™ì…˜ì„ ì‹œë®¬ë ˆì´ì…˜í•˜ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ê¸°ëŠ¥ì€ ì»´í¬ë„ŒíŠ¸ì˜ ë™ì‘ì„ ìë™í™”ëœ ë°©ì‹ìœ¼ë¡œ ê²€ì¦í•˜ëŠ” ë° ìœ ìš©í•©ë‹ˆë‹¤.

```typescript
play: async ({ canvasElement, step }) => {
  const canvas = within(canvasElement);
  
  // step í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í…ŒìŠ¤íŠ¸ ë‹¨ê³„ êµ¬ë¶„
  await step('ë²„íŠ¼ í´ë¦­', async () => {
    const button = canvas.getByRole('button', { name: /Click me/i });
    await userEvent.click(button);
  });
  
  // ìƒíƒœ ë³€í™” í™•ì¸
  await step('ìƒíƒœ í™•ì¸', async () => {
    const result = canvas.getByText('Clicked!');
    await expect(result).toBeInTheDocument();
  });
}
```

## ë‹¤í¬ ëª¨ë“œ ì§€ì›

ë‹¤ì–‘í•œ í…Œë§ˆì—ì„œ ì»´í¬ë„ŒíŠ¸ í™•ì¸:

```typescript
// .storybook/preview.ts
import type { Preview } from "@storybook/vue3";
import '../src/index.css';

const preview: Preview = {
  parameters: {
    // ë‹¤í¬/ë¼ì´íŠ¸ ëª¨ë“œ ì§€ì›
    darkMode: {
      current: 'light', // ê¸°ë³¸ê°’
      dark: { appBg: '#222222' },
      light: { appBg: '#ffffff' },
    },
  },
  // ê¸€ë¡œë²Œ ë°ì½”ë ˆì´í„° ì¶”ê°€
  decorators: [
    (story) => ({
      components: { story },
      template: '<div class="p-4"><story /></div>',
    }),
  ],
};

export default config;
```

## ì•¡ì…˜ ë° ì´ë²¤íŠ¸ í…ŒìŠ¤íŠ¸ (fn í•¨ìˆ˜ í™œìš©)

Storybook 8.6ì—ì„œëŠ” `@storybook/test` íŒ¨í‚¤ì§€ì˜ `fn` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ì˜ ì´ë²¤íŠ¸ì™€ ì•¡ì…˜ì„ ëª¨ë‹ˆí„°ë§í•˜ê³  í…ŒìŠ¤íŠ¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### fn í•¨ìˆ˜ ê¸°ë³¸ ì‚¬ìš©ë²•

```typescript
import { fn } from '@storybook/test';

const meta = {
  // ...
  args: {
    onClick: fn(),
    onSubmit: fn(),
    onInputChange: fn(),
  },
} satisfies Meta<typeof MyComponent>;
```

### fn í•¨ìˆ˜ì™€ play í•¨ìˆ˜ ì¡°í•©í•˜ê¸°

`fn` í•¨ìˆ˜ì™€ `play` í•¨ìˆ˜ë¥¼ ì¡°í•©í•˜ì—¬ ì´ë²¤íŠ¸ ë°œìƒ ì—¬ë¶€ì™€ ì „ë‹¬ëœ ì¸ìë¥¼ ê²€ì¦í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

```typescript
import { fn } from '@storybook/test';
import { within, userEvent, expect } from '@storybook/test';

const onSubmit = fn();

export const FormSubmission: Story = {
  args: {
    onSubmit,
  },
  play: async ({ canvasElement }) => {
    const canvas = within(canvasElement);
    
    // í¼ ì…ë ¥
    const nameInput = canvas.getByLabelText('Name');
    await userEvent.type(nameInput, 'John Doe');
    
    // ì œì¶œ ë²„íŠ¼ í´ë¦­
    const submitButton = canvas.getByRole('button', { name: /Submit/i });
    await userEvent.click(submitButton);
    
    // onSubmit í•¨ìˆ˜ê°€ í˜¸ì¶œë˜ì—ˆëŠ”ì§€ í™•ì¸
    await expect(onSubmit).toHaveBeenCalled();
    
    // ì „ë‹¬ëœ ì¸ì í™•ì¸
    await expect(onSubmit).toHaveBeenCalledWith(
      expect.objectContaining({ name: 'John Doe' })
    );
  },
};
```

## ë¬¸ì„œí™” ê°œì„ 

ì»´í¬ë„ŒíŠ¸ íƒ€ì…ê³¼ ì„¤ëª…ì„ ê°•í™”í•œ ë¬¸ì„œ ìƒì„±:

```typescript
// Button.vueì— JSDoc ì£¼ì„ ì¶”ê°€
<script lang="ts" setup>
/**
 * ê¸°ë³¸ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸
 * ì• í”Œë¦¬ì¼€ì´ì…˜ ì „ë°˜ì— ê±¸ì³ ì¼ê´€ëœ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì œê³µ
 */
const props = withDefaults(defineProps<{
  /**
   * ë²„íŠ¼ì— í‘œì‹œí•  í…ìŠ¤íŠ¸
   */
  label: string,
  /**
   * ë²„íŠ¼ ìŠ¤íƒ€ì¼ (primary, secondary)
   */
  primary?: boolean,
  /**
   * ë²„íŠ¼ í¬ê¸° (small, medium, large)
   */
  size?: 'small' | 'medium' | 'large',
  /**
   * ë²„íŠ¼ ë°°ê²½ìƒ‰
   */
  backgroundColor?: string,
}>(), { primary: false });
</script>
```

## Storybook ì‚¬ìš© íŒ

1. **ì»´í¬ë„ŒíŠ¸ ë¬¸ì„œí™”**: ê° ì»´í¬ë„ŒíŠ¸ëŠ” ìŠ¤í† ë¦¬ë¥¼ í†µí•´ ë¬¸ì„œí™”í•©ë‹ˆë‹¤.
2. **ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸**: ë‹¤ì–‘í•œ ìƒíƒœì™€ props ì¡°í•©ì„ ìŠ¤í† ë¦¬ë¡œ ì •ì˜í•˜ì—¬ í…ŒìŠ¤íŠ¸í•©ë‹ˆë‹¤.
3. **ë””ìì¸ ì‹œìŠ¤í…œ êµ¬ì¶•**: Atomic Designì˜ ê° ë ˆë²¨ì„ ìŠ¤í† ë¦¬ë¶ ì¹´í…Œê³ ë¦¬ë¡œ êµ¬ì„±í•©ë‹ˆë‹¤.
4. **fn í•¨ìˆ˜ í™œìš©**: ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ì— `fn()` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì•¡ì…˜ì„ ëª¨ë‹ˆí„°ë§í•©ë‹ˆë‹¤.
5. **step í•¨ìˆ˜ í™œìš©**: ë³µì¡í•œ í…ŒìŠ¤íŠ¸ë¥¼ ë‹¨ê³„ë³„ë¡œ êµ¬ë¶„í•˜ì—¬ ê°€ë…ì„±ì„ ë†’ì…ë‹ˆë‹¤.
6. **ì»´í¬ë„ŒíŠ¸ ê°œë°œ ì›Œí¬í”Œë¡œìš°**:
   - Figma ë””ìì¸ ê²€í† 
   - ì»´í¬ë„ŒíŠ¸ êµ¬í˜„
   - ìŠ¤í† ë¦¬ë¶ì— ë¬¸ì„œí™” ë° í…ŒìŠ¤íŠ¸ ì‘ì„±
   - ë¦¬ë·° ë° í”¼ë“œë°±

## Figmaì™€ Storybook ì—°ê³„ í™œìš©

1. **ë””ìì¸ ë¦¬ë·°**: Figma ë””ìì¸ì„ ê²€í† í•˜ê³  Atomic Design ê´€ì ì—ì„œ ì»´í¬ë„ŒíŠ¸ ë¶„ë¥˜
2. **ì»´í¬ë„ŒíŠ¸ êµ¬í˜„**: Vue ì»´í¬ë„ŒíŠ¸ë¡œ êµ¬í˜„
3. **ìŠ¤í† ë¦¬ë¶ ë¬¸ì„œí™”**: êµ¬í˜„ëœ ì»´í¬ë„ŒíŠ¸ë¥¼ ìŠ¤í† ë¦¬ë¶ì— ë“±ë¡í•˜ê³  Figma ë””ìì¸ ì—°ê²°
4. **ì¸í„°ë™ì…˜ í…ŒìŠ¤íŠ¸**: `play` í•¨ìˆ˜ì™€ `fn` í•¨ìˆ˜ë¥¼ í™œìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ë™ì‘ ê²€ì¦
5. **í”¼ë“œë°± ìˆ˜ì§‘**: ìŠ¤í† ë¦¬ë¶ ë§í¬ë¥¼ Figma ëŒ“ê¸€ì— ê³µìœ í•˜ì—¬ ë””ìì´ë„ˆë¡œë¶€í„° í”¼ë“œë°± ìˆ˜ì§‘
6. **ë°˜ë³µ ê°œì„ **: í”¼ë“œë°±ì„ ë°˜ì˜í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ê°œì„ 